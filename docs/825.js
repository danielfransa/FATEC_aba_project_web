"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[825],{1825:(xe,D,a)=>{a.r(D),a.d(D,{CadastroClienteModule:()=>Te});var re=a(4151),U=a(2957),S=a(7617),d=a(9012),e=a(7705),oe=a(4412);let x=(()=>{class n{constructor(){this._cliente=new oe.t(null),this.cliente=this._cliente.asObservable()}setClient(r){this._cliente.next(r)}removeClient(){this._cliente.next(null)}static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ae=(()=>{class n{constructor(r){this.dataService=r}ngOnDestroy(){this.dataService.removeClient()}static{this.\u0275fac=function(l){return new(l||n)(e.rXU(x))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cadastro"]],decls:1,vars:0,template:function(l,t){1&l&&e.nrm(0,"router-outlet")},dependencies:[d.n3],encapsulation:2})}}return n})();var o=a(9417),se=a(560),ie=a(5653),B=a(177),X=a(882),L=a(8834),de=a(9631),V=a(9213),me=a(2798),ue=a(6600);function ce(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Nome do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function pe(n,i){1&n&&(e.j41(0,"span"),e.EFF(1,"Email do cliente \xe9 obrigat\xf3rio"),e.k0s())}function fe(n,i){1&n&&(e.j41(0,"span"),e.EFF(1,"Email deve ser v\xe1lido"),e.k0s())}function Ce(n,i){if(1&n&&(e.j41(0,"mat-error"),e.DNE(1,pe,2,0,"span",9),e.DNE(2,fe,2,0,"span",9),e.k0s()),2&n){const r=e.XpG();let l,t;e.R7$(1),e.Y8G("ngIf",null==(l=r.formCadastro.get("email"))||null==l.errors?null:l.errors.required),e.R7$(1),e.Y8G("ngIf",null==(t=r.formCadastro.get("email"))||null==t.errors?null:t.errors.email)}}function ve(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Data de nascimento do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function he(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"CPF do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function ge(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Telefone do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function _e(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Sexo do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function Fe(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Rua do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function Ee(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Cep do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function be(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"N\xfamero endere\xe7o do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function ke(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Bairro do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function je(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Cidade do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function Re(n,i){1&n&&(e.j41(0,"mat-error")(1,"span"),e.EFF(2,"Estado do cliente \xe9 obrigat\xf3rio"),e.k0s()())}function Ie(n,i){if(1&n){const r=e.RV6();e.j41(0,"div",4)(1,"h2"),e.EFF(2,"Respons\xe1veis Cadastrados"),e.k0s(),e.j41(3,"app-expansion-panel-responsavel",48),e.bIt("acessarEvent",function(t){e.eBV(r);const s=e.XpG();return e.Njj(s.addResponsavel(t))})("removerEvent",function(t){e.eBV(r);const s=e.XpG();return e.Njj(s.removeResponsavel(t))}),e.k0s()()}if(2&n){const r=e.XpG();e.R7$(3),e.Y8G("responsaveis",null==r.cliente?null:r.cliente.responsible)}}const Ne=function(){return["/"]},ye=function(){return["../"]},$e=[{component:ae,path:"",children:[{path:"",component:(()=>{class n{constructor(r,l,t,s,m){this.formBuilder=r,this.clienteService=l,this.router=t,this.dataService=s,this.responsavelService=m,this.cliente=null,this.dataService.cliente.subscribe({next:u=>{u&&(this.cliente=u)}})}ngOnInit(){this.createForm()}save(){const r=this.formCadastro.getRawValue();console.log(r),this.clienteService.saveClient(r).subscribe({next:l=>{this.formCadastro.reset(),this.router.navigate(["/home"])},error:l=>console.error(l)})}createForm(){this.formCadastro=this.formBuilder.group({name:[this.cliente?.name||"",[o.k0.required]],email:[this.cliente?.email||"",[o.k0.required,o.k0.email]],birthday:[this.cliente?.birthday||"",[o.k0.required]],gender:[this.cliente?.gender||"",[o.k0.required]],cpf:[this.cliente?.cpf||"",[o.k0.required]],telephone:[this.cliente?.telephone||"",[o.k0.required]],educationLevel:[this.cliente?.educationLevel||""],medicalInformations:[this.cliente?.medicalInformations||""],medicinesInUse:[this.cliente?.medicinesInUse||""],processingInformation:[this.cliente?.processingInformation||""],address:this.formBuilder.group({cep:[this.cliente?.address?.cep||"",[o.k0.required]],street:[this.cliente?.address?.street||"",[o.k0.required]],addressNumber:[this.cliente?.address?.addressNumber||"",[o.k0.required]],complement:[this.cliente?.address?.complement||""],neighborhood:[this.cliente?.address?.neighborhood||"",[o.k0.required]],city:[this.cliente?.address?.city||"",[o.k0.required]],state:[this.cliente?.address?.state||"",[o.k0.required]]}),responsible:this.formBuilder.array(this.cliente?.responsible||[])})}addResponsavel(r){if(this.cliente=this.formCadastro.getRawValue(),this.dataService.setClient(this.formCadastro.value),r){const l=this.cliente?.responsible?.indexOf(r);this.router.navigate(["/cadastro-cliente/cadastro-responsavel"],{queryParams:{responsavel:l}})}else this.router.navigate(["/cadastro-cliente/cadastro-responsavel"])}removeResponsavel(r){if(this.cliente&&this.cliente?.responsible){const l=this.cliente?.responsible?.indexOf(r);this.cliente?.responsible.splice(l,1),this.formCadastro.get("responsible")?.value.splice(l,1),this.dataService.setClient(this.cliente)}}static{this.\u0275fac=function(l){return new(l||n)(e.rXU(o.ok),e.rXU(se.Mh),e.rXU(d.Ix),e.rXU(x),e.rXU(ie.Y))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cadastro-cliente"]],decls:123,vars:33,consts:[[1,"text-center","mt-4"],[1,"mt-4"],["mat-fab","","extended","","color","primary",3,"routerLink"],[3,"formGroup"],[1,"row","mt-4"],[1,"col-6"],["for","nomeCliente",3,"ngClass"],["appearance","outline",1,"w-100"],["formControlName","name","matInput","","placeholder","Nome do cliente","id","nomeCliente"],[4,"ngIf"],["for","emailCliente",3,"ngClass"],["type","email","formControlName","email","matInput","","placeholder","Ex. cli@example.com","id","emailCliente"],["for","dataNascimento",3,"ngClass"],["type","date","formControlName","birthday","matInput","","placeholder","dataNascimento do cliente","id","dataNascimento"],["for","cpfCliente",3,"ngClass"],["type","text","formControlName","cpf","matInput","","id","cpfCliente","placeholder","CPF do cliente"],["for","telefoneCliente",3,"ngClass"],["type","tel","formControlName","telephone","matInput","","placeholder","telefone do cliente","id","telefoneCliente"],["for","sexoCliente",3,"ngClass"],["formControlName","gender","id","sexoCliente"],["value","MASCULINO"],["value","FEMININO"],["for","medicamentosEmUsoCliente",3,"ngClass"],["formControlName","medicinesInUse","rows","1","matInput","","placeholder","Medicamentos em uso do cliente","id","medicamentosEmUsoCliente"],["for","grauEscolaridadeCliente",3,"ngClass"],["type","text","formControlName","educationLevel","id","grauEscolaridadeCliente","matInput","","placeholder","Grau de Escolaridade do cliente"],[1,"col-12"],["for","dadosTratamentoCliente",3,"ngClass"],["formControlName","processingInformation","rows","10","matInput","","placeholder","Dados Tratamento do cliente","id","dadosTratamentoCliente"],["formGroupName","address",1,"row","mt-4"],["for","ruaCliente",3,"ngClass"],["type","text","formControlName","street","matInput","","placeholder","Rua do cliente","id","ruaCliente"],["for","cepCliente",3,"ngClass"],["type","text","formControlName","cep","matInput","","placeholder","cep do cliente","id","cepCliente"],["for","numeroCliente",3,"ngClass"],["type","number","formControlName","addressNumber","matInput","","placeholder","N\xfamero endere\xe7o do cliente","id","numeroCliente"],["for","complementoCliente",3,"ngClass"],["type","text","formControlName","complement","matInput","","placeholder","Complemento do cliente","id","complementoCliente"],["for","bairroCliente",3,"ngClass"],["type","text","formControlName","neighborhood","matInput","","placeholder","Bairro do cliente","id","bairroCliente"],["for","cidadeCliente",3,"ngClass"],["type","text","formControlName","city","matInput","","placeholder","Cidade do cliente","id","cidadeCliente"],["for","estadoCliente",3,"ngClass"],["type","text","formControlName","state","matInput","","placeholder","Estado do cliente","id","estadoCliente"],["class","row mt-4",4,"ngIf"],[1,"d-flex","justify-content-between","mt-4","mb-5"],["mat-fab","","extended","","color","primary",3,"click"],["mat-fab","","extended","","color","primary",3,"disabled","click"],[3,"responsaveis","acessarEvent","removerEvent"]],template:function(l,t){if(1&l&&(e.j41(0,"h1",0),e.EFF(1,"Cadastro de Cliente"),e.k0s(),e.j41(2,"div",1)(3,"button",2)(4,"mat-icon"),e.EFF(5,"arrow_back"),e.k0s(),e.EFF(6," Voltar "),e.k0s(),e.j41(7,"div",1)(8,"form",3)(9,"div",4)(10,"div",5)(11,"label",6),e.EFF(12,"Nome"),e.k0s(),e.j41(13,"mat-form-field",7),e.nrm(14,"input",8),e.DNE(15,ce,3,0,"mat-error",9),e.k0s()(),e.j41(16,"div",5)(17,"label",10),e.EFF(18,"Email"),e.k0s(),e.j41(19,"mat-form-field",7),e.nrm(20,"input",11),e.DNE(21,Ce,3,2,"mat-error",9),e.k0s()()(),e.j41(22,"div",4)(23,"div",5)(24,"label",12),e.EFF(25,"Data de nascimento"),e.k0s(),e.j41(26,"mat-form-field",7),e.nrm(27,"input",13),e.DNE(28,ve,3,0,"mat-error",9),e.k0s()(),e.j41(29,"div",5)(30,"label",14),e.EFF(31,"CPF"),e.k0s(),e.j41(32,"mat-form-field",7),e.nrm(33,"input",15),e.DNE(34,he,3,0,"mat-error",9),e.k0s()()(),e.j41(35,"div",4)(36,"div",5)(37,"label",16),e.EFF(38,"Telefone"),e.k0s(),e.j41(39,"mat-form-field",7),e.nrm(40,"input",17),e.DNE(41,ge,3,0,"mat-error",9),e.k0s()(),e.j41(42,"div",5)(43,"label",18),e.EFF(44,"sexo"),e.k0s(),e.j41(45,"mat-form-field",7)(46,"mat-select",19)(47,"mat-option",20),e.EFF(48,"Masculino"),e.k0s(),e.j41(49,"mat-option",21),e.EFF(50,"Feminino"),e.k0s()(),e.DNE(51,_e,3,0,"mat-error",9),e.k0s()()(),e.j41(52,"div",4)(53,"div",5)(54,"label",22),e.EFF(55,"Medicamentos"),e.k0s(),e.j41(56,"mat-form-field",7),e.nrm(57,"textarea",23),e.k0s()(),e.j41(58,"div",5)(59,"label",24),e.EFF(60,"Grau de Escolaridade"),e.k0s(),e.j41(61,"mat-form-field",7),e.nrm(62,"input",25),e.k0s()()(),e.j41(63,"div",4)(64,"div",26)(65,"label",27),e.EFF(66,"Dados do Tratamento"),e.k0s(),e.j41(67,"mat-form-field",7),e.nrm(68,"textarea",28),e.k0s()()(),e.j41(69,"div",29)(70,"h2"),e.EFF(71,"Endere\xe7o:"),e.k0s(),e.j41(72,"div",4)(73,"div",5)(74,"label",30),e.EFF(75,"Rua"),e.k0s(),e.j41(76,"mat-form-field",7),e.nrm(77,"input",31),e.DNE(78,Fe,3,0,"mat-error",9),e.k0s()(),e.j41(79,"div",5)(80,"label",32),e.EFF(81,"CEP"),e.k0s(),e.j41(82,"mat-form-field",7),e.nrm(83,"input",33),e.DNE(84,Ee,3,0,"mat-error",9),e.k0s()()(),e.j41(85,"div",4)(86,"div",5)(87,"label",34),e.EFF(88,"N\xfamero"),e.k0s(),e.j41(89,"mat-form-field",7),e.nrm(90,"input",35),e.DNE(91,be,3,0,"mat-error",9),e.k0s()(),e.j41(92,"div",5)(93,"label",36),e.EFF(94,"Complemento"),e.k0s(),e.j41(95,"mat-form-field",7),e.nrm(96,"input",37),e.k0s()()(),e.j41(97,"div",4)(98,"div",5)(99,"label",38),e.EFF(100,"Bairro"),e.k0s(),e.j41(101,"mat-form-field",7),e.nrm(102,"input",39),e.DNE(103,ke,3,0,"mat-error",9),e.k0s()(),e.j41(104,"div",5)(105,"label",40),e.EFF(106,"Cidade"),e.k0s(),e.j41(107,"mat-form-field",7),e.nrm(108,"input",41),e.DNE(109,je,3,0,"mat-error",9),e.k0s()()(),e.j41(110,"div",4)(111,"div",5)(112,"label",42),e.EFF(113,"Estado"),e.k0s(),e.j41(114,"mat-form-field",7),e.nrm(115,"input",43),e.DNE(116,Re,3,0,"mat-error",9),e.k0s()()()(),e.DNE(117,Ie,4,1,"div",44),e.j41(118,"div",45)(119,"button",46),e.bIt("click",function(){return t.addResponsavel()}),e.EFF(120,"Adicionar Respons\xe1vel"),e.k0s(),e.j41(121,"button",47),e.bIt("click",function(){return t.save()}),e.EFF(122,"Cadastrar"),e.k0s()()()()()),2&l){let s,m,u,M,c,O,p,A,f,P,C,w,v,h,g,_,F,J,W,E,b,q,H,k,j,Q,z,R,I,N,G,K,Z,y,$,ee,te,Y,T,ne,le;e.R7$(3),e.Y8G("routerLink",e.lJ4(32,Ne)),e.R7$(5),e.Y8G("formGroup",t.formCadastro),e.R7$(3),e.Y8G("ngClass",null!=(s=t.formCadastro.get("name"))&&s.invalid&&null!=(s=t.formCadastro.get("name"))&&s.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(m=t.formCadastro.get("name"))?null:m.invalid),e.R7$(2),e.Y8G("ngClass",null!=(u=t.formCadastro.get("email"))&&u.invalid&&null!=(u=t.formCadastro.get("email"))&&u.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(M=t.formCadastro.get("email"))?null:M.invalid),e.R7$(3),e.Y8G("ngClass",null!=(c=t.formCadastro.get("birthday"))&&c.invalid&&null!=(c=t.formCadastro.get("birthday"))&&c.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(O=t.formCadastro.get("birthday"))?null:O.invalid),e.R7$(2),e.Y8G("ngClass",null!=(p=t.formCadastro.get("cpf"))&&p.invalid&&null!=(p=t.formCadastro.get("cpf"))&&p.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(A=t.formCadastro.get("cpf"))?null:A.invalid),e.R7$(3),e.Y8G("ngClass",null!=(f=t.formCadastro.get("telephone"))&&f.invalid&&null!=(f=t.formCadastro.get("telephone"))&&f.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(P=t.formCadastro.get("telephone"))?null:P.invalid),e.R7$(2),e.Y8G("ngClass",null!=(C=t.formCadastro.get("gender"))&&C.invalid&&null!=(C=t.formCadastro.get("gender"))&&C.touched?"text-color-error":""),e.R7$(8),e.Y8G("ngIf",null==(w=t.formCadastro.get("gender"))?null:w.invalid),e.R7$(3),e.Y8G("ngClass",null!=(v=t.formCadastro.get("medicinesInUse"))&&v.invalid&&null!=(v=t.formCadastro.get("medicinesInUse"))&&v.touched?"text-color-error":""),e.R7$(5),e.Y8G("ngClass",null!=(h=t.formCadastro.get("educationLevel"))&&h.invalid&&null!=(h=t.formCadastro.get("educationLevel"))&&h.touched?"text-color-error":""),e.R7$(6),e.Y8G("ngClass",null!=(g=t.formCadastro.get("processingInformation"))&&g.invalid&&null!=(g=t.formCadastro.get("processingInformation"))&&g.touched?"text-color-error":""),e.R7$(9),e.Y8G("ngClass",null!=(_=t.formCadastro.get("address"))&&null!=(F=_.get("street"))&&F.invalid&&null!=(_=t.formCadastro.get("address"))&&null!=(F=_.get("street"))&&F.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(J=t.formCadastro.get("address"))||null==(W=J.get("street"))?null:W.invalid),e.R7$(2),e.Y8G("ngClass",null!=(E=t.formCadastro.get("address"))&&null!=(b=E.get("cep"))&&b.invalid&&null!=(E=t.formCadastro.get("address"))&&null!=(b=E.get("cep"))&&b.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(q=t.formCadastro.get("address"))||null==(H=q.get("cep"))?null:H.invalid),e.R7$(3),e.Y8G("ngClass",null!=(k=t.formCadastro.get("address"))&&null!=(j=k.get("addressNumber"))&&j.invalid&&null!=(k=t.formCadastro.get("address"))&&null!=(j=k.get("addressNumber"))&&j.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(Q=t.formCadastro.get("address"))||null==(z=Q.get("addressNumber"))?null:z.invalid),e.R7$(2),e.Y8G("ngClass",null!=(R=t.formCadastro.get("address"))&&null!=(I=R.get("complement"))&&I.invalid&&null!=(R=t.formCadastro.get("address"))&&null!=(I=R.get("complement"))&&I.touched?"text-color-error":""),e.R7$(6),e.Y8G("ngClass",null!=(N=t.formCadastro.get("address"))&&null!=(G=N.get("neighborhood"))&&G.invalid&&null!=(N=t.formCadastro.get("address"))&&null!=(G=N.get("neighborhood"))&&G.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(K=t.formCadastro.get("address"))||null==(Z=K.get("neighborhood"))?null:Z.invalid),e.R7$(2),e.Y8G("ngClass",null!=(y=t.formCadastro.get("address"))&&null!=($=y.get("city"))&&$.invalid&&null!=(y=t.formCadastro.get("address"))&&null!=($=y.get("city"))&&$.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(ee=t.formCadastro.get("address"))||null==(te=ee.get("city"))?null:te.invalid),e.R7$(3),e.Y8G("ngClass",null!=(Y=t.formCadastro.get("address"))&&null!=(T=Y.get("state"))&&T.invalid&&null!=(Y=t.formCadastro.get("address"))&&null!=(T=Y.get("state"))&&T.touched?"text-color-error":""),e.R7$(4),e.Y8G("ngIf",null==(ne=t.formCadastro.get("address"))||null==(le=ne.get("state"))?null:le.invalid),e.R7$(1),e.Y8G("ngIf",(null==t.cliente?null:t.cliente.responsible)&&(null==t.cliente?null:t.cliente.responsible.length)>0),e.R7$(4),e.Y8G("disabled",t.formCadastro.invalid)}},dependencies:[B.YU,B.bT,d.Wk,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,o.$R,X.rl,X.TL,L.Sr,de.fg,V.An,me.VO,ue.wT,S.j]})}}return n})()},{path:"cadastro-responsavel",component:(()=>{class n{constructor(r,l,t){this.dataService=r,this.router=l,this.route=t,this.cliente=null,this.responsavel=null,this.idResponsavel=null;const s=this.route.snapshot.queryParams.responsavel;this.idResponsavel=s?parseInt(s):null,this.dataService.cliente.subscribe({next:m=>this.cliente=m})}ngOnInit(){null!==this.idResponsavel&&this.cliente?.responsible&&(this.responsavel=this.cliente.responsible[this.idResponsavel])}addResponsavel(r){if(this.cliente){const l=r;null!==this.idResponsavel&&this.cliente?.responsible?this.cliente.responsible[this.idResponsavel]=l:this.cliente.responsible?.push(l),this.dataService.setClient(this.cliente),this.router.navigate(["/cadastro-cliente"])}}static{this.\u0275fac=function(l){return new(l||n)(e.rXU(x),e.rXU(d.Ix),e.rXU(d.nX))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cadastro-responsavel"]],decls:8,vars:3,consts:[[1,"text-center","mt-4"],[1,"mt-4"],["mat-fab","","extended","","color","primary",3,"routerLink"],["textButton","Adicionar",3,"responsavel","responsavelEvent"]],template:function(l,t){1&l&&(e.j41(0,"h1",0),e.EFF(1,"Cadastro de Respons\xe1vel"),e.k0s(),e.j41(2,"div",1)(3,"button",2)(4,"mat-icon"),e.EFF(5,"arrow_back"),e.k0s(),e.EFF(6," Voltar "),e.k0s(),e.j41(7,"app-form-responsavel",3),e.bIt("responsavelEvent",function(m){return t.addResponsavel(m)}),e.k0s()()),2&l&&(e.R7$(3),e.Y8G("routerLink",e.lJ4(2,ye)),e.R7$(4),e.Y8G("responsavel",t.responsavel))},dependencies:[d.Wk,L.Sr,V.An,U.q]})}}return n})()}]}];let Ye=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild($e),d.iI]})}}return n})(),Te=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[re.G,U.q,S.j,Ye]})}}return n})()}}]);